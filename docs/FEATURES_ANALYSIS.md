# 功能需求分析

**日期**: 2025-10-01  
**目的**: 評估哪些需求需要完整 Spec,哪些可以直接實作

---

## 📊 需求分類

### ✅ 可直接實作 (不需 Spec)

這些是 UI/UX 改進,不涉及資料結構或複雜邏輯:

#### 1. **黑白頁面** (視覺風格)
- **類型**: 純 UI 調整
- **工作量**: 小 (~2-4 小時)
- **檔案**: `globals.css`, 各頁面元件
- **做法**: 調整顏色變數,統一黑白灰色系
- **風險**: 低

#### 2. **404 Page**
- **類型**: 標準頁面
- **工作量**: 小 (~1-2 小時)
- **檔案**: `src/app/not-found.tsx`
- **做法**: 建立 Next.js 標準 404 頁面
- **風險**: 低

#### 3. **Loading Page**
- **類型**: 標準頁面 + 元件
- **工作量**: 小 (~2-3 小時)
- **檔案**: `src/app/loading.tsx`, `src/components/ui/loading.tsx`
- **做法**: 使用 Next.js loading.tsx 或建立 Suspense fallback
- **風險**: 低

#### 4. **首頁修改**
- **類型**: UI 調整
- **工作量**: 中 (~4-8 小時)
- **檔案**: `src/app/(site)/page.tsx`
- **做法**: 調整 layout, 動畫, 內容呈現
- **風險**: 低

#### 5. **照片頁面修改**
- **類型**: UI 調整
- **工作量**: 中 (~4-8 小時)
- **檔案**: `src/app/(site)/[year]/[collection]/page.tsx`
- **做法**: 優化照片展示方式, grid layout, lightbox
- **風險**: 低

#### 6. **全站動畫**
- **類型**: 視覺增強
- **工作量**: 中 (~6-10 小時)
- **檔案**: 各元件 + `src/lib/animations.ts`
- **做法**: 使用 GSAP (已有), Framer Motion, 或 CSS animations
- **風險**: 中 (效能考量)

---

### ⚠️ 需要輕量規劃 (簡單文件)

這些涉及一些邏輯但不複雜:

#### 7. **Collections 加入修改日期**
- **類型**: 資料欄位 + UI 顯示
- **工作量**: 小 (~2-4 小時)
- **涉及**:
  - ✅ Prisma schema 已有 `updated_at`
  - 需要: UI 顯示修改日期
  - 需要: API 回傳 updated_at
  - 需要: Admin 頁面顯示排序
- **做法**: 
  1. 檢查 DB schema 是否有 updated_at
  2. API 回傳時包含該欄位
  3. UI 顯示格式化的日期
- **風險**: 低

---

### 🔴 需要完整 Spec (Feature 004)

這些是複雜功能,涉及架構設計:

#### 8. **I18n (國際化)**
- **類型**: 架構性功能
- **工作量**: 大 (~20-30 小時)
- **涉及**:
  - 多語系路由 (`/en`, `/zh-tw`)
  - 翻譯檔案管理
  - 語言切換器
  - SEO (hreflang)
  - 後台內容多語系
- **需要規劃**:
  - 技術選型 (next-intl? next-i18next?)
  - 資料結構 (翻譯存哪?)
  - URL 結構
  - Fallback 策略
- **風險**: 高

#### 9. **發佈頁面整合**（已結案：2025-10 移除 `/admin/publishing`）
- **狀態**: 不需後續整合，相關頁面與 API 已下線
- **影響**:
  - 既有 Publishing 流程改由年份/作品集管理直接操作
  - Admin 導覽已更新，無 `/admin/publishing`
- **後續建議**:
  - 若未來需要重新引入發布工具，建議於 specs/002 歷史文件基礎上重新規劃

---

## 🎯 建議的執行順序

### Phase 1: 快速視覺改善 (1-2 天)
**不需 Spec,直接做**

```
1. 404 Page (1-2h)
2. Loading Page (2-3h)
3. 黑白頁面風格 (2-4h)
4. Collections 加入修改日期 (2-4h)
```

**預期成果**: 基礎 UX 完善,視覺風格統一

---

### Phase 2: 內容頁面優化 (3-5 天)
**不需 Spec,但建議用 UI_IMPROVEMENTS.md 記錄**

```
5. 首頁修改 (4-8h)
6. 照片頁面修改 (4-8h)
7. 全站動畫 (6-10h)
```

**預期成果**: 使用者體驗大幅提升,視覺動態豐富

---

### Phase 3: 複雜功能 (需要 Spec)

#### Feature 004: I18n 國際化
**建議開 Spec**

```
📁 specs/004-i18n-internationalization/
├── spec.md          (需求定義)
├── data-model.md    (翻譯資料結構)
├── plan.md          (實作計畫)
├── tasks.md         (任務清單)
└── quickstart.md    (使用指南)
```

#### Feature 005: 發佈頁面整合
**需先澄清需求再決定**

---

## 📋 立即可執行的任務清單

我建議我們先用 **UI_IMPROVEMENTS.md** 來管理簡單的改動:

### 第一批: 基礎改善 (今天可以開始)

- [ ] **404 Page** 
  - 建立 `src/app/not-found.tsx`
  - 設計友善的 404 畫面
  - 加入回首頁連結

- [ ] **Loading Page**
  - 建立 `src/app/loading.tsx`
  - 設計 loading spinner/skeleton
  - 各頁面加入 Suspense boundaries

- [ ] **Collections 修改日期**
  - 檢查 Prisma schema `updated_at`
  - API 回傳 updated_at
  - Admin 頁面顯示日期
  - 加入日期排序

- [ ] **黑白風格**
  - 定義色彩變數
  - 更新 Tailwind config
  - 套用到各元件

---

## ❓ 需要你澄清的問題

### 關於「發佈頁面整合」:
> 2025-10 更新：`/admin/publishing` 已移除，原討論議題不再需要澄清。

### 關於 I18n:
1. 需要支援哪些語言? (英文 + 繁中?)
2. 只有前台需要多語系,還是後台也要?
3. 內容(照片標題、描述)需要多語系嗎?

---

## 🚀 我的建議

### 立即行動 (今天):
```bash
# 我可以幫你快速實作這些:
1. 404 Page
2. Loading Page  
3. Collections 修改日期
4. 黑白風格基礎
```

### 下週行動:
```bash
5. 首頁優化
6. 照片頁面優化
7. 全站動畫系統
```

### 需要規劃 (Feature 004):
```bash
8. I18n (開 Spec)
9. 發佈頁面整合 (澄清後決定)
```

---

## 💬 下一步?

**選項 A**: 我先幫你做 Phase 1 的 4 個快速改善?

**選項 B**: 你先描述「發佈頁面整合」的具體需求,我評估要不要開 Spec?

**選項 C**: 直接開始某個特定項目? (告訴我想從哪個開始)

**選項 D**: 我先建立 I18n 的 Feature 004 Spec?

---

**告訴我你想要的執行順序!** 🚀
